import{s as X,n as H,o as Y,B as L}from"./078Onj7x.js";import{S as Z,i as x,d as k,g as P,z as Q,B as $,w as R,A as V,y as B,x as g,j as b,k as E,n as C,p as w,r as A,s as D,h as m,l as N,q as O,v as q}from"./B3TwOt2K.js";import{e as j,u as ee,d as te}from"./Dump72nq.js";import{w as le}from"./C-ujS7iR.js";const se=le([]);function G(f,e,l){const s=f.slice();return s[20]=e[l],s}function z(f,e,l){const s=f.slice();return s[15]=e[l],s}function F(f,e,l){const s=f.slice();return s[15]=e[l],s}function ne(f){let e,l,s="Choose players",c,r,o=[],n=new Map,t,u,i='<p>Press <span style="color: red;">&#39;R&#39;</span> to select Red player, <span style="color: blue;">&#39;B&#39;</span> to select Blue player</p>',h=j(f[1]);const S=p=>p[20].id;for(let p=0;p<h.length;p+=1){let _=G(f,h,p),v=S(_);n.set(v,o[p]=K(v,_))}return{c(){e=w("main"),l=w("h1"),l.textContent=s,c=A(),r=w("section");for(let p=0;p<o.length;p+=1)o[p].c();t=A(),u=w("footer"),u.innerHTML=i,this.h()},l(p){e=b(p,"MAIN",{class:!0});var _=E(e);l=b(_,"H1",{class:!0,"data-svelte-h":!0}),q(l)!=="svelte-198vlmf"&&(l.textContent=s),c=C(_),r=b(_,"SECTION",{class:!0});var v=E(r);for(let M=0;M<o.length;M+=1)o[M].l(v);v.forEach(k),t=C(_),u=b(_,"FOOTER",{class:!0,"data-svelte-h":!0}),q(u)!=="svelte-n81kdl"&&(u.innerHTML=i),_.forEach(k),this.h()},h(){g(l,"class","svelte-tfw8n3"),g(r,"class","pokelist svelte-tfw8n3"),g(u,"class","svelte-tfw8n3"),g(e,"class","pickerView svelte-tfw8n3")},m(p,_){P(p,e,_),m(e,l),m(e,c),m(e,r);for(let v=0;v<o.length;v+=1)o[v]&&o[v].m(r,null);m(e,t),m(e,u)},p(p,_){_&131&&(h=j(p[1]),o=ee(o,_,S,1,p,h,n,r,te,K,null,G))},d(p){p&&k(e);for(let _=0;_<o.length;_+=1)o[_].d()}}}function oe(f){let e,l,s,c;return{c(){e=w("main"),l=w("h1"),s=O("Loading pokemons"),c=O(f[3]),this.h()},l(r){e=b(r,"MAIN",{class:!0});var o=E(e);l=b(o,"H1",{class:!0});var n=E(l);s=N(n,"Loading pokemons"),c=N(n,f[3]),n.forEach(k),o.forEach(k),this.h()},h(){g(l,"class","svelte-tfw8n3"),g(e,"class","loadingView svelte-tfw8n3")},m(r,o){P(r,e,o),m(e,l),m(l,s),m(l,c)},p(r,o){o&8&&D(c,r[3])},d(r){r&&k(e)}}}function ae(f){let e,l,s,c=j(f[4]),r=[];for(let t=0;t<c.length;t+=1)r[t]=U(F(f,c,t));let o=j(f[4]),n=[];for(let t=0;t<o.length;t+=1)n[t]=J(z(f,o,t));return{c(){e=w("aside");for(let t=0;t<r.length;t+=1)r[t].c();l=A(),s=w("main");for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=b(t,"ASIDE",{style:!0});var u=E(e);for(let h=0;h<r.length;h+=1)r[h].l(u);u.forEach(k),l=C(t),s=b(t,"MAIN",{class:!0,style:!0});var i=E(s);for(let h=0;h<n.length;h+=1)n[h].l(i);i.forEach(k),this.h()},h(){B(e,"display","flex"),B(e,"justify-content","space-around"),B(e,"margin","10px 0"),g(s,"class","game svelte-tfw8n3"),B(s,"border","solid 1px "+(f[5]?"red":"black"))},m(t,u){P(t,e,u);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(e,null);P(t,l,u),P(t,s,u);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(s,null)},p(t,u){if(u&16){c=j(t[4]);let i;for(i=0;i<c.length;i+=1){const h=F(t,c,i);r[i]?r[i].p(h,u):(r[i]=U(h),r[i].c(),r[i].m(e,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=c.length}if(u&16){o=j(t[4]);let i;for(i=0;i<o.length;i+=1){const h=z(t,o,i);n[i]?n[i].p(h,u):(n[i]=J(h),n[i].c(),n[i].m(s,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=o.length}u&32&&B(s,"border","solid 1px "+(t[5]?"red":"black"))},d(t){t&&(k(e),k(l),k(s)),V(r,t),V(n,t)}}}function K(f,e){let l,s,c,r,o,n,t;function u(){return e[8](e[20])}return{key:f,first:null,c(){l=w("button"),s=w("img"),o=A(),this.h()},l(i){l=b(i,"BUTTON",{});var h=E(l);s=b(h,"IMG",{style:!0,src:!0,alt:!0,width:!0,class:!0}),o=C(h),h.forEach(k),this.h()},h(){B(s,"--color-accent",e[0]),B(s,"--picked-color",e[20].picked),L(s.src,c=e[20].img)||g(s,"src",c),g(s,"alt",r=e[20].name),g(s,"width","100"),g(s,"class","svelte-tfw8n3"),this.first=l},m(i,h){P(i,l,h),m(l,s),m(l,o),n||(t=Q(l,"click",u),n=!0)},p(i,h){e=i,h&1&&B(s,"--color-accent",e[0]),h&2&&B(s,"--picked-color",e[20].picked),h&2&&!L(s.src,c=e[20].img)&&g(s,"src",c),h&2&&r!==(r=e[20].name)&&g(s,"alt",r)},d(i){i&&k(l),n=!1,t()}}}function U(f){let e,l,s=f[15].name+"",c,r,o,n,t=f[15].attack+"",u,i,h,S,p=f[15].speed+"",_,v;return{c(){e=w("div"),l=w("strong"),c=O(s),r=A(),o=w("p"),n=O("Attack: "),u=O(t),i=A(),h=w("p"),S=O("Speed: "),_=O(p),v=A(),this.h()},l(M){e=b(M,"DIV",{});var a=E(e);l=b(a,"STRONG",{style:!0});var y=E(l);c=N(y,s),y.forEach(k),r=C(a),o=b(a,"P",{});var d=E(o);n=N(d,"Attack: "),u=N(d,t),d.forEach(k),i=C(a),h=b(a,"P",{});var I=E(h);S=N(I,"Speed: "),_=N(I,p),I.forEach(k),v=C(a),a.forEach(k),this.h()},h(){B(l,"color",f[15].color)},m(M,a){P(M,e,a),m(e,l),m(l,c),m(e,r),m(e,o),m(o,n),m(o,u),m(e,i),m(e,h),m(h,S),m(h,_),m(e,v)},p(M,a){a&16&&s!==(s=M[15].name+"")&&D(c,s),a&16&&B(l,"color",M[15].color),a&16&&t!==(t=M[15].attack+"")&&D(u,t),a&16&&p!==(p=M[15].speed+"")&&D(_,p)},d(M){M&&k(e)}}}function J(f){let e,l,s,c,r;return{c(){e=w("div"),l=w("img"),r=A(),this.h()},l(o){e=b(o,"DIV",{class:!0,style:!0});var n=E(e);l=b(n,"IMG",{src:!0,alt:!0,width:!0}),r=C(n),n.forEach(k),this.h()},h(){L(l.src,s=f[15].img)||g(l,"src",s),g(l,"alt",c=f[15].name),g(l,"width","50"),g(e,"class","player svelte-tfw8n3"),B(e,"left",f[15].left+"px"),B(e,"top",f[15].top+"px")},m(o,n){P(o,e,n),m(e,l),m(e,r)},p(o,n){n&16&&!L(l.src,s=o[15].img)&&g(l,"src",s),n&16&&c!==(c=o[15].name)&&g(l,"alt",c),n&16&&B(e,"left",o[15].left+"px"),n&16&&B(e,"top",o[15].top+"px")},d(o){o&&k(e)}}}function re(f){let e,l,s;function c(n,t){return n[4].length===2&&n[4][0].img&&n[4][1].img?ae:n[2]?ne:oe}let r=c(f),o=r(f);return{c(){o.c(),e=R()},l(n){o.l(n),e=R()},m(n,t){o.m(n,t),P(n,e,t),l||(s=Q(window,"keydown",$(f[6])),l=!0)},p(n,[t]){r===(r=c(n))&&o?o.p(n,t):(o.d(1),o=r(n),o&&(o.c(),o.m(e.parentNode,e)))},i:H,o:H,d(n){n&&k(e),o.d(n),l=!1,s()}}}async function ie(f){var e,l;try{const s=await fetch(`https://pokeapi.co/api/v2/pokemon/${f}`);if(!s.ok)return null;const c=await s.json(),r=((e=c.stats.find(n=>n.stat.name==="attack"))==null?void 0:e.base_stat)||0,o=((l=c.stats.find(n=>n.stat.name==="speed"))==null?void 0:l.base_stat)||0;return{name:c.name,id:c.id,img:c.sprites.front_default,attack:r,speed:o,picked:void 0}}catch(s){return console.error(`Failed to fetch pokemon ${f}:`,s),null}}function ce(f,e,l){let s="red",c=[],r=!1,o="",n,t=[];se.subscribe(a=>{l(4,t=a)});class u{constructor(y,d,I,T,W){this.name=y,this.color=d,this.img=I,this.attack=T,this.speed=W,this.left=0,this.top=0}moveBy(y,d){this.left=Math.max(0,Math.min(this.left+y*this.speed,450)),this.top=Math.max(0,Math.min(this.top+d*this.speed,450))}}let i=!1;function h(){const a=t[0],y=t[1];if(!a||!y)return;const d=Math.hypot(a.left-y.left,a.top-y.top);l(5,i=d<50)}const S={66:()=>l(0,s="blue"),82:()=>l(0,s="red"),38:()=>{var a;return(a=t[0])==null?void 0:a.moveBy(0,-1)},40:()=>{var a;return(a=t[0])==null?void 0:a.moveBy(0,1)},37:()=>{var a;return(a=t[0])==null?void 0:a.moveBy(-1,0)},39:()=>{var a;return(a=t[0])==null?void 0:a.moveBy(1,0)},87:()=>{var a;return(a=t[1])==null?void 0:a.moveBy(0,-1)},83:()=>{var a;return(a=t[1])==null?void 0:a.moveBy(0,1)},65:()=>{var a;return(a=t[1])==null?void 0:a.moveBy(-1,0)},68:()=>{var a;return(a=t[1])==null?void 0:a.moveBy(1,0)}};function p(a){const y=S[a.keyCode];y&&(a.preventDefault(),y()),h(),l(4,t=[...t])}async function _(a){let y=[];for(let d=1;d<=a;d++){let I=await ie(d);y.push(I)}l(1,c=y.filter(d=>d!==null)),l(2,r=!0),clearInterval(n)}Y(()=>{let a=0;n=setInterval(()=>{a=(a+1)%4,l(3,o=".".repeat(a))},250),_(200)});function v(a){if(t.some(T=>T.name===a.name))return;let d=t.find(T=>T.color===s);d||(t.push(new u("",s,"",0,0)),d=t[t.length-1]);let I=c.find(T=>T.name===d.name);I&&(I.picked=void 0),a.picked=s,setTimeout(()=>{d.name=a.name,d.attack=a.attack,d.speed=a.speed,d.img=a.img,l(4,t=[...t])},1e3),l(1,c=[...c])}return[s,c,r,o,t,i,p,v,a=>v(a)]}class fe extends Z{constructor(e){super(),x(this,e,ce,re,X,{})}}const de=Object.freeze(Object.defineProperty({__proto__:null,default:fe},Symbol.toStringTag,{value:"Module"}));export{fe as P,de as _};
